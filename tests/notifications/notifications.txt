{"method":"available_languages","params":{"languages":["ASP","ActionScript","AppleScript","Batch File","BibTeX","Bourne Again Shell (bash)","C","C#","C++","CSS","Clojure","D","Diff","Erlang","Git Attributes","Git Commit","Git Config","Git Ignore","Git Link","Git Log","Git Rebase Todo","Go","Graphviz (DOT)","Groovy","HTML","HTML (ASP)","HTML (Erlang)","HTML (Rails)","HTML (Tcl)","Haskell","JSON","Java","Java Properties","Java Server Page (JSP)","JavaScript","JavaScript (Rails)","LaTeX","Lisp","Literate Haskell","Lua","MATLAB","Makefile","Markdown","NAnt Build File","OCaml","OCamllex","OCamlyacc","Objective-C","Objective-C++","PHP","Pascal","Perl","Plain Text","Python","R","Rd (R Documentation)","Regular Expression","Ruby","Ruby Haml","Ruby on Rails","Rust","SQL","SQL (Rails)","Scala","TOML","Tcl","TeX","Textile","XML","YAML","reStructuredText"]}}
{"method":"available_themes","params":{"themes":["InspiredGitHub","Solarized (dark)","Solarized (light)","base16-eighties.dark","base16-mocha.dark","base16-ocean.dark","base16-ocean.light"]}}
{"method":"theme_changed","params":{"name":"base16-eighties.dark","theme":{"accent":null,"active_guide":null,"background":{"a":255,"b":45,"g":45,"r":45},"bracket_contents_foreground":null,"bracket_contents_options":null,"brackets_background":null,"brackets_foreground":null,"brackets_options":null,"caret":{"a":255,"b":200,"g":208,"r":211},"find_highlight":null,"find_highlight_foreground":null,"foreground":{"a":255,"b":200,"g":208,"r":211},"guide":null,"gutter":null,"gutter_foreground":null,"highlight":null,"highlight_foreground":null,"inactive_selection":null,"inactive_selection_foreground":null,"line_highlight":{"a":48,"b":105,"g":115,"r":116},"minimap_border":null,"misspelling":null,"phantom_css":null,"popup_css":null,"selection":{"a":255,"b":81,"g":81,"r":81},"selection_background":null,"selection_border":null,"selection_foreground":null,"shadow":null,"stack_guide":null,"tags_foreground":null,"tags_options":null}}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"lines":[{"cursor":[0],"ln":1,"styles":[],"text":"#![cfg_attr(feature = \"clippy\", feature(plugin))]\n"},{"ln":2,"styles":[],"text":"#![cfg_attr(feature = \"clippy\", plugin(clippy))]\n"},{"ln":3,"styles":[],"text":"#![cfg_attr(feature = \"clippy\", deny(clippy))]\n"},{"ln":4,"styles":[],"text":"#![feature(associated_type_defaults)]\n"},{"ln":5,"styles":[],"text":"\n"},{"ln":6,"styles":[],"text":"#[macro_use]\n"},{"ln":7,"styles":[],"text":"extern crate clap;\n"},{"ln":8,"styles":[],"text":"\n"},{"ln":9,"styles":[],"text":"extern crate failure;\n"},{"ln":10,"styles":[],"text":"\n"},{"ln":11,"styles":[],"text":"#[macro_use]\n"},{"ln":12,"styles":[],"text":"extern crate log;\n"}],"n":12,"op":"ins"},{"n":81,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"scroll_to","params":{"col":0,"line":0,"view_id":"view-id-2"}}
{"method":"plugin_started","params":{"plugin":"xi-syntect-plugin","view_id":"view-id-2"}}
{"method":"available_plugins","params":{"plugins":[{"name":"xi-syntect-plugin","running":true}],"view_id":"view-id-2"}}
{"method":"config_changed","params":{"changes":{"auto_indent":true,"autodetect_whitespace":true,"font_face":"InconsolataGo","font_size":14,"line_ending":"\n","plugin_search_path":[],"save_with_newline":true,"scroll_past_end":false,"surrounding_pairs":[["\"","\""],["'","'"],["{","}"],["[","]"]],"tab_size":4,"translate_tabs_to_spaces":true,"use_tab_stops":true,"word_wrap":false,"wrap_width":0},"view_id":"view-id-2"}}
{"method":"language_changed","params":{"language_id":"Rust","view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"lines":[{"cursor":[0],"ln":1,"styles":[],"text":"#![cfg_attr(feature = \"clippy\", feature(plugin))]\n"},{"ln":2,"styles":[],"text":"#![cfg_attr(feature = \"clippy\", plugin(clippy))]\n"},{"ln":3,"styles":[],"text":"#![cfg_attr(feature = \"clippy\", deny(clippy))]\n"},{"ln":4,"styles":[],"text":"#![feature(associated_type_defaults)]\n"},{"ln":5,"styles":[],"text":"\n"},{"ln":6,"styles":[],"text":"#[macro_use]\n"},{"ln":7,"styles":[],"text":"extern crate clap;\n"},{"ln":8,"styles":[],"text":"\n"},{"ln":9,"styles":[],"text":"extern crate failure;\n"},{"ln":10,"styles":[],"text":"\n"},{"ln":11,"styles":[],"text":"#[macro_use]\n"},{"ln":12,"styles":[],"text":"extern crate log;\n"}],"n":12,"op":"ins"},{"n":81,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":12,"op":"copy"},{"lines":[{"ln":13,"styles":[],"text":"extern crate log4rs;\n"},{"ln":14,"styles":[],"text":"\n"},{"ln":15,"styles":[],"text":"extern crate futures;\n"},{"ln":16,"styles":[],"text":"extern crate indexmap;\n"},{"ln":17,"styles":[],"text":"extern crate crossterm;\n"},{"ln":18,"styles":[],"text":"extern crate tokio;\n"},{"ln":19,"styles":[],"text":"extern crate xdg;\n"},{"ln":20,"styles":[],"text":"extern crate xrl;\n"},{"ln":21,"styles":[],"text":"extern crate tui;\n"},{"ln":22,"styles":[],"text":"extern crate serde;\n"},{"ln":23,"styles":[],"text":"extern crate serde_json;\n"},{"ln":24,"styles":[],"text":"\n"},{"ln":25,"styles":[],"text":"pub mod core;\n"},{"ln":26,"styles":[],"text":"pub mod ui;\n"},{"ln":27,"styles":[],"text":"pub mod widgets;\n"},{"ln":28,"styles":[],"text":"pub mod components;\n"},{"ln":29,"styles":[],"text":"pub mod actions;\n"},{"ln":30,"styles":[],"text":"\n"},{"ln":31,"styles":[],"text":"pub use failure::Error;\n"},{"ln":32,"styles":[],"text":"use futures::{future, Future, Stream};\n"},{"ln":33,"styles":[],"text":"use xrl::spawn;\n"},{"ln":34,"styles":[],"text":"\n"},{"ln":35,"styles":[],"text":"use core::ActionHandler;\n"},{"ln":36,"styles":[],"text":"use actions::EditorAction;\n"},{"ln":37,"styles":[],"text":"use ui::{XiTerm, XiTermServiceBuilder};\n"},{"ln":38,"styles":[],"text":"\n"},{"ln":39,"styles":[],"text":"pub fn run() -> Result<(), Error> {\n"},{"ln":40,"styles":[],"text":"    let xi = clap_app!(\n"},{"ln":41,"styles":[],"text":"        xi =>\n"},{"ln":42,"styles":[],"text":"        (about: \"The Xi Editor\")\n"},{"ln":43,"styles":[],"text":"        (@arg core: -c --core +takes_value \"Specify binary to use for the backend\")\n"},{"ln":44,"styles":[],"text":"        (@arg logfile: -l --logfile +takes_value \"Log file location\")\n"},{"ln":45,"styles":[],"text":"        (@arg file: +required \"File to edit\"));\n"},{"ln":46,"styles":[],"text":"\n"},{"ln":47,"styles":[],"text":"    let matches = xi.get_matches();\n"},{"ln":48,"styles":[],"text":"    if let Some(logfile) = matches.value_of(\"logfile\") {\n"},{"ln":49,"styles":[],"text":"        core::configure_logs(logfile);\n"},{"ln":50,"styles":[],"text":"    }\n"},{"ln":51,"styles":[],"text":"    core::init_panic_handler();\n"},{"ln":52,"styles":[],"text":"\n"},{"ln":53,"styles":[],"text":"    tokio::run(future::lazy(move || {\n"},{"ln":54,"styles":[],"text":"        info!(\"starting xi-core\");\n"},{"ln":55,"styles":[],"text":"        let (tui_service_builder, core_events_rx) = XiTermServiceBuilder::new();\n"},{"ln":56,"styles":[],"text":"        let (client, core_stderr) = spawn(\n"},{"ln":57,"styles":[],"text":"            matches.value_of(\"core\").unwrap_or(\"xi-core\"),\n"},{"ln":58,"styles":[],"text":"            tui_service_builder,\n"},{"ln":59,"styles":[],"text":"        ).unwrap();\n"},{"ln":60,"styles":[],"text":"\n"}],"n":48,"op":"ins"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"def_style","params":{"fg_color":4292071624,"id":8}}
{"method":"def_style","params":{"fg_color":4294080378,"id":9}}
{"method":"def_style","params":{"fg_color":4292071624,"id":10}}
{"method":"def_style","params":{"fg_color":4288269465,"id":11}}
{"method":"def_style","params":{"fg_color":4284914124,"id":12}}
{"method":"def_style","params":{"fg_color":4291598796,"id":13}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"lines":[{"cursor":[0],"ln":1,"styles":[0,3,8,0,8,9,0,9,8,0,1,10,0,1,8,0,1,10,0,6,11,0,1,10,0,2,8,0,7,12,0,11,8],"text":"#![cfg_attr(feature = \"clippy\", feature(plugin))]\n"},{"ln":2,"styles":[0,3,8,0,8,9,0,9,8,0,1,10,0,1,8,0,1,10,0,6,11,0,1,10,0,2,8,0,6,12,0,11,8],"text":"#![cfg_attr(feature = \"clippy\", plugin(clippy))]\n"},{"ln":3,"styles":[0,3,8,0,8,9,0,9,8,0,1,10,0,1,8,0,1,10,0,6,11,0,1,10,0,2,8,0,4,12,0,11,8],"text":"#![cfg_attr(feature = \"clippy\", deny(clippy))]\n"},{"ln":4,"styles":[0,3,8,0,7,9,0,28,8],"text":"#![feature(associated_type_defaults)]\n"},{"ln":5,"styles":[0,1,8],"text":"\n"},{"ln":6,"styles":[0,2,8,0,9,9,0,2,8],"text":"#[macro_use]\n"},{"ln":7,"styles":[0,6,13,0,1,8,0,5,13,0,7,8],"text":"extern crate clap;\n"},{"ln":8,"styles":[0,1,8],"text":"\n"},{"ln":9,"styles":[0,6,13,0,1,8,0,5,13,0,10,8],"text":"extern crate failure;\n"},{"ln":10,"styles":[0,1,8],"text":"\n"}],"n":10,"op":"ins"},{"n":10,"op":"skip"},{"ln":11,"n":50,"op":"copy"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":10,"op":"copy"},{"lines":[{"ln":11,"styles":[0,2,8,0,9,9,0,2,8],"text":"#[macro_use]\n"},{"ln":12,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate log;\n"},{"ln":13,"styles":[0,6,13,0,1,8,0,5,13,0,9,8],"text":"extern crate log4rs;\n"},{"ln":14,"styles":[0,1,8],"text":"\n"},{"ln":15,"styles":[0,6,13,0,1,8,0,5,13,0,10,8],"text":"extern crate futures;\n"},{"ln":16,"styles":[0,6,13,0,1,8,0,5,13,0,11,8],"text":"extern crate indexmap;\n"},{"ln":17,"styles":[0,6,13,0,1,8,0,5,13,0,12,8],"text":"extern crate crossterm;\n"},{"ln":18,"styles":[0,6,13,0,1,8,0,5,13,0,8,8],"text":"extern crate tokio;\n"},{"ln":19,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate xdg;\n"},{"ln":20,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate xrl;\n"}],"n":10,"op":"ins"},{"n":10,"op":"skip"},{"ln":21,"n":40,"op":"copy"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":20,"op":"copy"},{"lines":[{"ln":21,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate tui;\n"},{"ln":22,"styles":[0,6,13,0,1,8,0,5,13,0,8,8],"text":"extern crate serde;\n"},{"ln":23,"styles":[0,6,13,0,1,8,0,5,13,0,13,8],"text":"extern crate serde_json;\n"},{"ln":24,"styles":[0,1,8],"text":"\n"},{"ln":25,"styles":[0,3,13,0,1,8,0,3,13,0,7,8],"text":"pub mod core;\n"},{"ln":26,"styles":[0,3,13,0,1,8,0,3,13,0,5,8],"text":"pub mod ui;\n"},{"ln":27,"styles":[0,3,13,0,1,8,0,3,13,0,10,8],"text":"pub mod widgets;\n"},{"ln":28,"styles":[0,3,13,0,1,8,0,3,13,0,13,8],"text":"pub mod components;\n"},{"ln":29,"styles":[0,3,13,0,1,8,0,3,13,0,10,8],"text":"pub mod actions;\n"},{"ln":30,"styles":[0,1,8],"text":"\n"}],"n":10,"op":"ins"},{"n":10,"op":"skip"},{"ln":31,"n":30,"op":"copy"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":30,"op":"copy"},{"lines":[{"ln":31,"styles":[0,3,13,0,1,8,0,3,13,0,17,8],"text":"pub use failure::Error;\n"},{"ln":32,"styles":[0,3,13,0,36,8],"text":"use futures::{future, Future, Stream};\n"},{"ln":33,"styles":[0,3,13,0,13,8],"text":"use xrl::spawn;\n"},{"ln":34,"styles":[0,1,8],"text":"\n"},{"ln":35,"styles":[0,3,13,0,22,8],"text":"use core::ActionHandler;\n"},{"ln":36,"styles":[0,3,13,0,24,8],"text":"use actions::EditorAction;\n"},{"ln":37,"styles":[0,3,13,0,37,8],"text":"use ui::{XiTerm, XiTermServiceBuilder};\n"},{"ln":38,"styles":[0,1,8],"text":"\n"},{"ln":39,"styles":[0,3,13,0,1,8,0,2,13,0,1,8,0,3,12,0,26,8],"text":"pub fn run() -> Result<(), Error> {\n"},{"ln":40,"styles":[0,4,8,0,3,13,0,4,8,0,1,10,0,12,8],"text":"    let xi = clap_app!(\n"}],"n":10,"op":"ins"},{"n":10,"op":"skip"},{"ln":41,"n":20,"op":"copy"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"def_style","params":{"fg_color":4284927180,"id":14}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":40,"op":"copy"},{"lines":[{"ln":41,"styles":[0,11,8,0,2,10,0,1,8],"text":"        xi =>\n"},{"ln":42,"styles":[0,16,8,0,1,10,0,13,11,0,1,10,0,2,8],"text":"        (about: \"The Xi Editor\")\n"},{"ln":43,"styles":[0,9,8,0,1,10,0,10,8,0,1,10,0,2,8,0,2,10,0,5,8,0,1,10,0,12,8,0,1,10,0,37,11,0,1,10,0,2,8],"text":"        (@arg core: -c --core +takes_value \"Specify binary to use for the backend\")\n"},{"ln":44,"styles":[0,9,8,0,1,10,0,13,8,0,1,10,0,2,8,0,2,10,0,8,8,0,1,10,0,12,8,0,1,10,0,17,11,0,1,10,0,2,8],"text":"        (@arg logfile: -l --logfile +takes_value \"Log file location\")\n"},{"ln":45,"styles":[0,9,8,0,1,10,0,10,8,0,1,10,0,9,8,0,1,10,0,12,11,0,1,10,0,4,8],"text":"        (@arg file: +required \"File to edit\"));\n"},{"ln":46,"styles":[0,1,8],"text":"\n"},{"ln":47,"styles":[0,4,8,0,3,13,0,9,8,0,1,10,0,4,8,0,11,14,0,4,8],"text":"    let matches = xi.get_matches();\n"},{"ln":48,"styles":[0,4,8,0,2,13,0,1,8,0,3,13,0,15,8,0,1,10,0,9,8,0,8,14,0,1,8,0,1,10,0,7,11,0,1,10,0,4,8],"text":"    if let Some(logfile) = matches.value_of(\"logfile\") {\n"},{"ln":49,"styles":[0,39,8],"text":"        core::configure_logs(logfile);\n"},{"ln":50,"styles":[0,6,8],"text":"    }\n"}],"n":10,"op":"ins"},{"n":10,"op":"skip"},{"ln":51,"n":10,"op":"copy"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":50,"op":"copy"},{"lines":[{"ln":51,"styles":[0,32,8],"text":"    core::init_panic_handler();\n"},{"ln":52,"styles":[0,1,8],"text":"\n"},{"ln":53,"styles":[0,28,8,0,4,13,0,1,8,0,2,10,0,3,8],"text":"    tokio::run(future::lazy(move || {\n"},{"ln":54,"styles":[0,14,8,0,1,10,0,16,11,0,1,10,0,3,8],"text":"        info!(\"starting xi-core\");\n"},{"ln":55,"styles":[0,8,8,0,3,13,0,39,8,0,1,10,0,30,8],"text":"        let (tui_service_builder, core_events_rx) = XiTermServiceBuilder::new();\n"},{"ln":56,"styles":[0,8,8,0,3,13,0,23,8,0,1,10,0,1,8,0,5,14,0,2,8],"text":"        let (client, core_stderr) = spawn(\n"},{"ln":57,"styles":[0,20,8,0,8,14,0,1,8,0,1,10,0,4,11,0,1,10,0,2,8,0,9,14,0,1,8,0,1,10,0,7,11,0,1,10,0,3,8],"text":"            matches.value_of(\"core\").unwrap_or(\"xi-core\"),\n"},{"ln":58,"styles":[0,33,8],"text":"            tui_service_builder,\n"},{"ln":59,"styles":[0,10,8,0,6,14,0,4,8],"text":"        ).unwrap();\n"},{"ln":60,"styles":[0,1,8],"text":"\n"}],"n":10,"op":"ins"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"find_status","params":{"queries":[{"case_sensitive":null,"chars":null,"id":1,"is_regex":null,"lines":[],"matches":6,"whole_words":null}],"view_id":"view-id-2"}}
{"method":"find_status","params":{"queries":[{"case_sensitive":null,"chars":null,"id":1,"is_regex":null,"lines":[],"matches":6,"whole_words":null}],"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"},{"n":5,"payloads":[{"id":1},{"id":1},{"id":1},{"id":1},{"id":1}],"ranges":[[14,13,14,19],[31,4,31,10],[31,14,31,20],[31,22,31,28],[52,15,52,21]],"type":"find"}],"ops":[{"lines":[{"cursor":[0],"ln":1,"styles":[0,3,8,0,8,9,0,9,8,0,1,10,0,1,8,0,1,10,0,6,11,0,1,10,0,2,8,0,7,12,0,11,8],"text":"#![cfg_attr(feature = \"clippy\", feature(plugin))]\n"},{"ln":2,"styles":[0,3,8,0,8,9,0,9,8,0,1,10,0,1,8,0,1,10,0,6,11,0,1,10,0,2,8,0,6,12,0,11,8],"text":"#![cfg_attr(feature = \"clippy\", plugin(clippy))]\n"},{"ln":3,"styles":[0,3,8,0,8,9,0,9,8,0,1,10,0,1,8,0,1,10,0,6,11,0,1,10,0,2,8,0,4,12,0,11,8],"text":"#![cfg_attr(feature = \"clippy\", deny(clippy))]\n"},{"ln":4,"styles":[0,3,8,0,7,9,0,28,8],"text":"#![feature(associated_type_defaults)]\n"},{"ln":5,"styles":[0,1,8],"text":"\n"},{"ln":6,"styles":[0,2,8,0,9,9,0,2,8],"text":"#[macro_use]\n"},{"ln":7,"styles":[0,6,13,0,1,8,0,5,13,0,7,8],"text":"extern crate clap;\n"},{"ln":8,"styles":[0,1,8],"text":"\n"},{"ln":9,"styles":[0,6,13,0,1,8,0,5,13,0,10,8],"text":"extern crate failure;\n"},{"ln":10,"styles":[0,1,8],"text":"\n"},{"ln":11,"styles":[0,2,8,0,9,9,0,2,8],"text":"#[macro_use]\n"},{"ln":12,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate log;\n"},{"ln":13,"styles":[0,6,13,0,1,8,0,5,13,0,9,8],"text":"extern crate log4rs;\n"},{"ln":14,"styles":[0,1,8],"text":"\n"},{"ln":15,"styles":[0,6,13,0,1,8,0,5,13,0,10,8],"text":"extern crate futures;\n"},{"ln":16,"styles":[0,6,13,0,1,8,0,5,13,0,11,8],"text":"extern crate indexmap;\n"},{"ln":17,"styles":[0,6,13,0,1,8,0,5,13,0,12,8],"text":"extern crate crossterm;\n"},{"ln":18,"styles":[0,6,13,0,1,8,0,5,13,0,8,8],"text":"extern crate tokio;\n"},{"ln":19,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate xdg;\n"},{"ln":20,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate xrl;\n"},{"ln":21,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate tui;\n"},{"ln":22,"styles":[0,6,13,0,1,8,0,5,13,0,8,8],"text":"extern crate serde;\n"},{"ln":23,"styles":[0,6,13,0,1,8,0,5,13,0,13,8],"text":"extern crate serde_json;\n"},{"ln":24,"styles":[0,1,8],"text":"\n"},{"ln":25,"styles":[0,3,13,0,1,8,0,3,13,0,7,8],"text":"pub mod core;\n"},{"ln":26,"styles":[0,3,13,0,1,8,0,3,13,0,5,8],"text":"pub mod ui;\n"},{"ln":27,"styles":[0,3,13,0,1,8,0,3,13,0,10,8],"text":"pub mod widgets;\n"},{"ln":28,"styles":[0,3,13,0,1,8,0,3,13,0,13,8],"text":"pub mod components;\n"},{"ln":29,"styles":[0,3,13,0,1,8,0,3,13,0,10,8],"text":"pub mod actions;\n"},{"ln":30,"styles":[0,1,8],"text":"\n"},{"ln":31,"styles":[0,3,13,0,1,8,0,3,13,0,17,8],"text":"pub use failure::Error;\n"},{"ln":32,"styles":[0,3,13,0,36,8],"text":"use futures::{future, Future, Stream};\n"},{"ln":33,"styles":[0,3,13,0,13,8],"text":"use xrl::spawn;\n"},{"ln":34,"styles":[0,1,8],"text":"\n"},{"ln":35,"styles":[0,3,13,0,22,8],"text":"use core::ActionHandler;\n"},{"ln":36,"styles":[0,3,13,0,24,8],"text":"use actions::EditorAction;\n"},{"ln":37,"styles":[0,3,13,0,37,8],"text":"use ui::{XiTerm, XiTermServiceBuilder};\n"},{"ln":38,"styles":[0,1,8],"text":"\n"},{"ln":39,"styles":[0,3,13,0,1,8,0,2,13,0,1,8,0,3,12,0,26,8],"text":"pub fn run() -> Result<(), Error> {\n"},{"ln":40,"styles":[0,4,8,0,3,13,0,4,8,0,1,10,0,12,8],"text":"    let xi = clap_app!(\n"},{"ln":41,"styles":[0,11,8,0,2,10,0,1,8],"text":"        xi =>\n"},{"ln":42,"styles":[0,16,8,0,1,10,0,13,11,0,1,10,0,2,8],"text":"        (about: \"The Xi Editor\")\n"},{"ln":43,"styles":[0,9,8,0,1,10,0,10,8,0,1,10,0,2,8,0,2,10,0,5,8,0,1,10,0,12,8,0,1,10,0,37,11,0,1,10,0,2,8],"text":"        (@arg core: -c --core +takes_value \"Specify binary to use for the backend\")\n"},{"ln":44,"styles":[0,9,8,0,1,10,0,13,8,0,1,10,0,2,8,0,2,10,0,8,8,0,1,10,0,12,8,0,1,10,0,17,11,0,1,10,0,2,8],"text":"        (@arg logfile: -l --logfile +takes_value \"Log file location\")\n"},{"ln":45,"styles":[0,9,8,0,1,10,0,10,8,0,1,10,0,9,8,0,1,10,0,12,11,0,1,10,0,4,8],"text":"        (@arg file: +required \"File to edit\"));\n"},{"ln":46,"styles":[0,1,8],"text":"\n"},{"ln":47,"styles":[0,4,8,0,3,13,0,9,8,0,1,10,0,4,8,0,11,14,0,4,8],"text":"    let matches = xi.get_matches();\n"},{"ln":48,"styles":[0,4,8,0,2,13,0,1,8,0,3,13,0,15,8,0,1,10,0,9,8,0,8,14,0,1,8,0,1,10,0,7,11,0,1,10,0,4,8],"text":"    if let Some(logfile) = matches.value_of(\"logfile\") {\n"},{"ln":49,"styles":[0,39,8],"text":"        core::configure_logs(logfile);\n"},{"ln":50,"styles":[0,6,8],"text":"    }\n"},{"ln":51,"styles":[0,32,8],"text":"    core::init_panic_handler();\n"},{"ln":52,"styles":[0,1,8],"text":"\n"},{"ln":53,"styles":[0,28,8,0,4,13,0,1,8,0,2,10,0,3,8],"text":"    tokio::run(future::lazy(move || {\n"},{"ln":54,"styles":[0,14,8,0,1,10,0,16,11,0,1,10,0,3,8],"text":"        info!(\"starting xi-core\");\n"},{"ln":55,"styles":[0,8,8,0,3,13,0,39,8,0,1,10,0,30,8],"text":"        let (tui_service_builder, core_events_rx) = XiTermServiceBuilder::new();\n"},{"ln":56,"styles":[0,8,8,0,3,13,0,23,8,0,1,10,0,1,8,0,5,14,0,2,8],"text":"        let (client, core_stderr) = spawn(\n"},{"ln":57,"styles":[0,20,8,0,8,14,0,1,8,0,1,10,0,4,11,0,1,10,0,2,8,0,9,14,0,1,8,0,1,10,0,7,11,0,1,10,0,3,8],"text":"            matches.value_of(\"core\").unwrap_or(\"xi-core\"),\n"},{"ln":58,"styles":[0,33,8],"text":"            tui_service_builder,\n"},{"ln":59,"styles":[0,10,8,0,6,14,0,4,8],"text":"        ).unwrap();\n"},{"ln":60,"styles":[0,1,8],"text":"\n"}],"n":60,"op":"ins"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"},{"n":5,"payloads":[{"id":1},{"id":1},{"id":1},{"id":1},{"id":1}],"ranges":[[14,13,14,19],[31,4,31,10],[31,14,31,20],[31,22,31,28],[52,15,52,21]],"type":"find"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"find_status","params":{"queries":[{"case_sensitive":false,"chars":"future","id":1,"is_regex":false,"lines":[15,32,32,32,53,71],"matches":6,"whole_words":false}],"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"},{"n":5,"payloads":[{"id":1},{"id":1},{"id":1},{"id":1},{"id":1}],"ranges":[[14,13,14,19],[31,4,31,10],[31,14,31,20],[31,22,31,28],[52,15,52,21]],"type":"find"}],"ops":[{"lines":[{"cursor":[0],"ln":1,"styles":[0,3,8,0,8,9,0,9,8,0,1,10,0,1,8,0,1,10,0,6,11,0,1,10,0,2,8,0,7,12,0,11,8],"text":"#![cfg_attr(feature = \"clippy\", feature(plugin))]\n"},{"ln":2,"styles":[0,3,8,0,8,9,0,9,8,0,1,10,0,1,8,0,1,10,0,6,11,0,1,10,0,2,8,0,6,12,0,11,8],"text":"#![cfg_attr(feature = \"clippy\", plugin(clippy))]\n"},{"ln":3,"styles":[0,3,8,0,8,9,0,9,8,0,1,10,0,1,8,0,1,10,0,6,11,0,1,10,0,2,8,0,4,12,0,11,8],"text":"#![cfg_attr(feature = \"clippy\", deny(clippy))]\n"},{"ln":4,"styles":[0,3,8,0,7,9,0,28,8],"text":"#![feature(associated_type_defaults)]\n"},{"ln":5,"styles":[0,1,8],"text":"\n"},{"ln":6,"styles":[0,2,8,0,9,9,0,2,8],"text":"#[macro_use]\n"},{"ln":7,"styles":[0,6,13,0,1,8,0,5,13,0,7,8],"text":"extern crate clap;\n"},{"ln":8,"styles":[0,1,8],"text":"\n"},{"ln":9,"styles":[0,6,13,0,1,8,0,5,13,0,10,8],"text":"extern crate failure;\n"},{"ln":10,"styles":[0,1,8],"text":"\n"},{"ln":11,"styles":[0,2,8,0,9,9,0,2,8],"text":"#[macro_use]\n"},{"ln":12,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate log;\n"},{"ln":13,"styles":[0,6,13,0,1,8,0,5,13,0,9,8],"text":"extern crate log4rs;\n"},{"ln":14,"styles":[0,1,8],"text":"\n"},{"ln":15,"styles":[13,6,1,-19,6,13,0,1,8,0,5,13,0,10,8],"text":"extern crate futures;\n"},{"ln":16,"styles":[0,6,13,0,1,8,0,5,13,0,11,8],"text":"extern crate indexmap;\n"},{"ln":17,"styles":[0,6,13,0,1,8,0,5,13,0,12,8],"text":"extern crate crossterm;\n"},{"ln":18,"styles":[0,6,13,0,1,8,0,5,13,0,8,8],"text":"extern crate tokio;\n"},{"ln":19,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate xdg;\n"},{"ln":20,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate xrl;\n"},{"ln":21,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate tui;\n"},{"ln":22,"styles":[0,6,13,0,1,8,0,5,13,0,8,8],"text":"extern crate serde;\n"},{"ln":23,"styles":[0,6,13,0,1,8,0,5,13,0,13,8],"text":"extern crate serde_json;\n"},{"ln":24,"styles":[0,1,8],"text":"\n"},{"ln":25,"styles":[0,3,13,0,1,8,0,3,13,0,7,8],"text":"pub mod core;\n"},{"ln":26,"styles":[0,3,13,0,1,8,0,3,13,0,5,8],"text":"pub mod ui;\n"},{"ln":27,"styles":[0,3,13,0,1,8,0,3,13,0,10,8],"text":"pub mod widgets;\n"},{"ln":28,"styles":[0,3,13,0,1,8,0,3,13,0,13,8],"text":"pub mod components;\n"},{"ln":29,"styles":[0,3,13,0,1,8,0,3,13,0,10,8],"text":"pub mod actions;\n"},{"ln":30,"styles":[0,1,8],"text":"\n"},{"ln":31,"styles":[0,3,13,0,1,8,0,3,13,0,17,8],"text":"pub use failure::Error;\n"},{"ln":32,"styles":[4,6,1,4,6,1,2,6,1,-28,3,13,0,36,8],"text":"use futures::{future, Future, Stream};\n"},{"ln":33,"styles":[0,3,13,0,13,8],"text":"use xrl::spawn;\n"},{"ln":34,"styles":[0,1,8],"text":"\n"},{"ln":35,"styles":[0,3,13,0,22,8],"text":"use core::ActionHandler;\n"},{"ln":36,"styles":[0,3,13,0,24,8],"text":"use actions::EditorAction;\n"},{"ln":37,"styles":[0,3,13,0,37,8],"text":"use ui::{XiTerm, XiTermServiceBuilder};\n"},{"ln":38,"styles":[0,1,8],"text":"\n"},{"ln":39,"styles":[0,3,13,0,1,8,0,2,13,0,1,8,0,3,12,0,26,8],"text":"pub fn run() -> Result<(), Error> {\n"},{"ln":40,"styles":[0,4,8,0,3,13,0,4,8,0,1,10,0,12,8],"text":"    let xi = clap_app!(\n"},{"ln":41,"styles":[0,11,8,0,2,10,0,1,8],"text":"        xi =>\n"},{"ln":42,"styles":[0,16,8,0,1,10,0,13,11,0,1,10,0,2,8],"text":"        (about: \"The Xi Editor\")\n"},{"ln":43,"styles":[0,9,8,0,1,10,0,10,8,0,1,10,0,2,8,0,2,10,0,5,8,0,1,10,0,12,8,0,1,10,0,37,11,0,1,10,0,2,8],"text":"        (@arg core: -c --core +takes_value \"Specify binary to use for the backend\")\n"},{"ln":44,"styles":[0,9,8,0,1,10,0,13,8,0,1,10,0,2,8,0,2,10,0,8,8,0,1,10,0,12,8,0,1,10,0,17,11,0,1,10,0,2,8],"text":"        (@arg logfile: -l --logfile +takes_value \"Log file location\")\n"},{"ln":45,"styles":[0,9,8,0,1,10,0,10,8,0,1,10,0,9,8,0,1,10,0,12,11,0,1,10,0,4,8],"text":"        (@arg file: +required \"File to edit\"));\n"},{"ln":46,"styles":[0,1,8],"text":"\n"},{"ln":47,"styles":[0,4,8,0,3,13,0,9,8,0,1,10,0,4,8,0,11,14,0,4,8],"text":"    let matches = xi.get_matches();\n"},{"ln":48,"styles":[0,4,8,0,2,13,0,1,8,0,3,13,0,15,8,0,1,10,0,9,8,0,8,14,0,1,8,0,1,10,0,7,11,0,1,10,0,4,8],"text":"    if let Some(logfile) = matches.value_of(\"logfile\") {\n"},{"ln":49,"styles":[0,39,8],"text":"        core::configure_logs(logfile);\n"},{"ln":50,"styles":[0,6,8],"text":"    }\n"},{"ln":51,"styles":[0,32,8],"text":"    core::init_panic_handler();\n"},{"ln":52,"styles":[0,1,8],"text":"\n"},{"ln":53,"styles":[15,6,1,-21,28,8,0,4,13,0,1,8,0,2,10,0,3,8],"text":"    tokio::run(future::lazy(move || {\n"},{"ln":54,"styles":[0,14,8,0,1,10,0,16,11,0,1,10,0,3,8],"text":"        info!(\"starting xi-core\");\n"},{"ln":55,"styles":[0,8,8,0,3,13,0,39,8,0,1,10,0,30,8],"text":"        let (tui_service_builder, core_events_rx) = XiTermServiceBuilder::new();\n"},{"ln":56,"styles":[0,8,8,0,3,13,0,23,8,0,1,10,0,1,8,0,5,14,0,2,8],"text":"        let (client, core_stderr) = spawn(\n"},{"ln":57,"styles":[0,20,8,0,8,14,0,1,8,0,1,10,0,4,11,0,1,10,0,2,8,0,9,14,0,1,8,0,1,10,0,7,11,0,1,10,0,3,8],"text":"            matches.value_of(\"core\").unwrap_or(\"xi-core\"),\n"},{"ln":58,"styles":[0,33,8],"text":"            tui_service_builder,\n"},{"ln":59,"styles":[0,10,8,0,6,14,0,4,8],"text":"        ).unwrap();\n"},{"ln":60,"styles":[0,1,8],"text":"\n"}],"n":60,"op":"ins"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"},{"n":5,"payloads":[{"id":1},{"id":1},{"id":1},{"id":1},{"id":1}],"ranges":[[14,13,14,19],[31,4,31,10],[31,14,31,20],[31,22,31,28],[52,15,52,21]],"type":"find"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"},{"n":5,"payloads":[{"id":1},{"id":1},{"id":1},{"id":1},{"id":1}],"ranges":[[14,13,14,19],[31,4,31,10],[31,14,31,20],[31,22,31,28],[52,15,52,21]],"type":"find"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"available_languages","params":{"languages":["ASP","ActionScript","AppleScript","Batch File","BibTeX","Bourne Again Shell (bash)","C","C#","C++","CSS","Clojure","D","Diff","Erlang","Git Attributes","Git Commit","Git Config","Git Ignore","Git Link","Git Log","Git Rebase Todo","Go","Graphviz (DOT)","Groovy","HTML","HTML (ASP)","HTML (Erlang)","HTML (Rails)","HTML (Tcl)","Haskell","JSON","Java","Java Properties","Java Server Page (JSP)","JavaScript","JavaScript (Rails)","LaTeX","Lisp","Literate Haskell","Lua","MATLAB","Makefile","Markdown","NAnt Build File","OCaml","OCamllex","OCamlyacc","Objective-C","Objective-C++","PHP","Pascal","Perl","Plain Text","Python","R","Rd (R Documentation)","Regular Expression","Ruby","Ruby Haml","Ruby on Rails","Rust","SQL","SQL (Rails)","Scala","TOML","Tcl","TeX","Textile","XML","YAML","reStructuredText"]}}
{"method":"available_themes","params":{"themes":["InspiredGitHub","Solarized (dark)","Solarized (light)","base16-eighties.dark","base16-mocha.dark","base16-ocean.dark","base16-ocean.light"]}}
{"method":"theme_changed","params":{"name":"base16-eighties.dark","theme":{"accent":null,"active_guide":null,"background":{"a":255,"b":45,"g":45,"r":45},"bracket_contents_foreground":null,"bracket_contents_options":null,"brackets_background":null,"brackets_foreground":null,"brackets_options":null,"caret":{"a":255,"b":200,"g":208,"r":211},"find_highlight":null,"find_highlight_foreground":null,"foreground":{"a":255,"b":200,"g":208,"r":211},"guide":null,"gutter":null,"gutter_foreground":null,"highlight":null,"highlight_foreground":null,"inactive_selection":null,"inactive_selection_foreground":null,"line_highlight":{"a":48,"b":105,"g":115,"r":116},"minimap_border":null,"misspelling":null,"phantom_css":null,"popup_css":null,"selection":{"a":255,"b":81,"g":81,"r":81},"selection_background":null,"selection_border":null,"selection_foreground":null,"shadow":null,"stack_guide":null,"tags_foreground":null,"tags_options":null}}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"lines":[{"cursor":[0],"ln":1,"styles":[],"text":"#![cfg_attr(feature = \"clippy\", feature(plugin))]\n"},{"ln":2,"styles":[],"text":"#![cfg_attr(feature = \"clippy\", plugin(clippy))]\n"},{"ln":3,"styles":[],"text":"#![cfg_attr(feature = \"clippy\", deny(clippy))]\n"},{"ln":4,"styles":[],"text":"#![feature(associated_type_defaults)]\n"},{"ln":5,"styles":[],"text":"\n"},{"ln":6,"styles":[],"text":"#[macro_use]\n"},{"ln":7,"styles":[],"text":"extern crate clap;\n"},{"ln":8,"styles":[],"text":"\n"},{"ln":9,"styles":[],"text":"extern crate failure;\n"},{"ln":10,"styles":[],"text":"\n"},{"ln":11,"styles":[],"text":"#[macro_use]\n"},{"ln":12,"styles":[],"text":"extern crate log;\n"}],"n":12,"op":"ins"},{"n":81,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"scroll_to","params":{"col":0,"line":0,"view_id":"view-id-2"}}
{"method":"plugin_started","params":{"plugin":"xi-syntect-plugin","view_id":"view-id-2"}}
{"method":"available_plugins","params":{"plugins":[{"name":"xi-syntect-plugin","running":true}],"view_id":"view-id-2"}}
{"method":"config_changed","params":{"changes":{"auto_indent":true,"autodetect_whitespace":true,"font_face":"InconsolataGo","font_size":14,"line_ending":"\n","plugin_search_path":[],"save_with_newline":true,"scroll_past_end":false,"surrounding_pairs":[["\"","\""],["'","'"],["{","}"],["[","]"]],"tab_size":4,"translate_tabs_to_spaces":true,"use_tab_stops":true,"word_wrap":false,"wrap_width":0},"view_id":"view-id-2"}}
{"method":"language_changed","params":{"language_id":"Rust","view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"lines":[{"cursor":[0],"ln":1,"styles":[],"text":"#![cfg_attr(feature = \"clippy\", feature(plugin))]\n"},{"ln":2,"styles":[],"text":"#![cfg_attr(feature = \"clippy\", plugin(clippy))]\n"},{"ln":3,"styles":[],"text":"#![cfg_attr(feature = \"clippy\", deny(clippy))]\n"},{"ln":4,"styles":[],"text":"#![feature(associated_type_defaults)]\n"},{"ln":5,"styles":[],"text":"\n"},{"ln":6,"styles":[],"text":"#[macro_use]\n"},{"ln":7,"styles":[],"text":"extern crate clap;\n"},{"ln":8,"styles":[],"text":"\n"},{"ln":9,"styles":[],"text":"extern crate failure;\n"},{"ln":10,"styles":[],"text":"\n"},{"ln":11,"styles":[],"text":"#[macro_use]\n"},{"ln":12,"styles":[],"text":"extern crate log;\n"}],"n":12,"op":"ins"},{"n":81,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":12,"op":"copy"},{"lines":[{"ln":13,"styles":[],"text":"extern crate log4rs;\n"},{"ln":14,"styles":[],"text":"\n"},{"ln":15,"styles":[],"text":"extern crate futures;\n"},{"ln":16,"styles":[],"text":"extern crate indexmap;\n"},{"ln":17,"styles":[],"text":"extern crate crossterm;\n"},{"ln":18,"styles":[],"text":"extern crate tokio;\n"},{"ln":19,"styles":[],"text":"extern crate xdg;\n"},{"ln":20,"styles":[],"text":"extern crate xrl;\n"},{"ln":21,"styles":[],"text":"extern crate tui;\n"},{"ln":22,"styles":[],"text":"extern crate serde;\n"},{"ln":23,"styles":[],"text":"extern crate serde_json;\n"},{"ln":24,"styles":[],"text":"\n"},{"ln":25,"styles":[],"text":"pub mod core;\n"},{"ln":26,"styles":[],"text":"pub mod ui;\n"},{"ln":27,"styles":[],"text":"pub mod widgets;\n"},{"ln":28,"styles":[],"text":"pub mod components;\n"},{"ln":29,"styles":[],"text":"pub mod actions;\n"},{"ln":30,"styles":[],"text":"\n"},{"ln":31,"styles":[],"text":"pub use failure::Error;\n"},{"ln":32,"styles":[],"text":"use futures::{future, Future, Stream};\n"},{"ln":33,"styles":[],"text":"use xrl::spawn;\n"},{"ln":34,"styles":[],"text":"\n"},{"ln":35,"styles":[],"text":"use core::ActionHandler;\n"},{"ln":36,"styles":[],"text":"use actions::EditorAction;\n"},{"ln":37,"styles":[],"text":"use ui::{XiTerm, XiTermServiceBuilder};\n"},{"ln":38,"styles":[],"text":"\n"},{"ln":39,"styles":[],"text":"pub fn run() -> Result<(), Error> {\n"},{"ln":40,"styles":[],"text":"    let xi = clap_app!(\n"},{"ln":41,"styles":[],"text":"        xi =>\n"},{"ln":42,"styles":[],"text":"        (about: \"The Xi Editor\")\n"},{"ln":43,"styles":[],"text":"        (@arg core: -c --core +takes_value \"Specify binary to use for the backend\")\n"},{"ln":44,"styles":[],"text":"        (@arg logfile: -l --logfile +takes_value \"Log file location\")\n"},{"ln":45,"styles":[],"text":"        (@arg file: +required \"File to edit\"));\n"},{"ln":46,"styles":[],"text":"\n"},{"ln":47,"styles":[],"text":"    let matches = xi.get_matches();\n"},{"ln":48,"styles":[],"text":"    if let Some(logfile) = matches.value_of(\"logfile\") {\n"},{"ln":49,"styles":[],"text":"        core::configure_logs(logfile);\n"},{"ln":50,"styles":[],"text":"    }\n"},{"ln":51,"styles":[],"text":"    core::init_panic_handler();\n"},{"ln":52,"styles":[],"text":"\n"},{"ln":53,"styles":[],"text":"    tokio::run(future::lazy(move || {\n"},{"ln":54,"styles":[],"text":"        info!(\"starting xi-core\");\n"},{"ln":55,"styles":[],"text":"        let (tui_service_builder, core_events_rx) = XiTermServiceBuilder::new();\n"},{"ln":56,"styles":[],"text":"        let (client, core_stderr) = spawn(\n"},{"ln":57,"styles":[],"text":"            matches.value_of(\"core\").unwrap_or(\"xi-core\"),\n"},{"ln":58,"styles":[],"text":"            tui_service_builder,\n"},{"ln":59,"styles":[],"text":"        ).unwrap();\n"},{"ln":60,"styles":[],"text":"\n"}],"n":48,"op":"ins"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"def_style","params":{"fg_color":4292071624,"id":8}}
{"method":"def_style","params":{"fg_color":4294080378,"id":9}}
{"method":"def_style","params":{"fg_color":4292071624,"id":10}}
{"method":"def_style","params":{"fg_color":4288269465,"id":11}}
{"method":"def_style","params":{"fg_color":4284914124,"id":12}}
{"method":"def_style","params":{"fg_color":4291598796,"id":13}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"lines":[{"cursor":[0],"ln":1,"styles":[0,3,8,0,8,9,0,9,8,0,1,10,0,1,8,0,1,10,0,6,11,0,1,10,0,2,8,0,7,12,0,11,8],"text":"#![cfg_attr(feature = \"clippy\", feature(plugin))]\n"},{"ln":2,"styles":[0,3,8,0,8,9,0,9,8,0,1,10,0,1,8,0,1,10,0,6,11,0,1,10,0,2,8,0,6,12,0,11,8],"text":"#![cfg_attr(feature = \"clippy\", plugin(clippy))]\n"},{"ln":3,"styles":[0,3,8,0,8,9,0,9,8,0,1,10,0,1,8,0,1,10,0,6,11,0,1,10,0,2,8,0,4,12,0,11,8],"text":"#![cfg_attr(feature = \"clippy\", deny(clippy))]\n"},{"ln":4,"styles":[0,3,8,0,7,9,0,28,8],"text":"#![feature(associated_type_defaults)]\n"},{"ln":5,"styles":[0,1,8],"text":"\n"},{"ln":6,"styles":[0,2,8,0,9,9,0,2,8],"text":"#[macro_use]\n"},{"ln":7,"styles":[0,6,13,0,1,8,0,5,13,0,7,8],"text":"extern crate clap;\n"},{"ln":8,"styles":[0,1,8],"text":"\n"},{"ln":9,"styles":[0,6,13,0,1,8,0,5,13,0,10,8],"text":"extern crate failure;\n"},{"ln":10,"styles":[0,1,8],"text":"\n"}],"n":10,"op":"ins"},{"n":10,"op":"skip"},{"ln":11,"n":50,"op":"copy"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":10,"op":"copy"},{"lines":[{"ln":11,"styles":[0,2,8,0,9,9,0,2,8],"text":"#[macro_use]\n"},{"ln":12,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate log;\n"},{"ln":13,"styles":[0,6,13,0,1,8,0,5,13,0,9,8],"text":"extern crate log4rs;\n"},{"ln":14,"styles":[0,1,8],"text":"\n"},{"ln":15,"styles":[0,6,13,0,1,8,0,5,13,0,10,8],"text":"extern crate futures;\n"},{"ln":16,"styles":[0,6,13,0,1,8,0,5,13,0,11,8],"text":"extern crate indexmap;\n"},{"ln":17,"styles":[0,6,13,0,1,8,0,5,13,0,12,8],"text":"extern crate crossterm;\n"},{"ln":18,"styles":[0,6,13,0,1,8,0,5,13,0,8,8],"text":"extern crate tokio;\n"},{"ln":19,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate xdg;\n"},{"ln":20,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate xrl;\n"}],"n":10,"op":"ins"},{"n":10,"op":"skip"},{"ln":21,"n":40,"op":"copy"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":20,"op":"copy"},{"lines":[{"ln":21,"styles":[0,6,13,0,1,8,0,5,13,0,6,8],"text":"extern crate tui;\n"},{"ln":22,"styles":[0,6,13,0,1,8,0,5,13,0,8,8],"text":"extern crate serde;\n"},{"ln":23,"styles":[0,6,13,0,1,8,0,5,13,0,13,8],"text":"extern crate serde_json;\n"},{"ln":24,"styles":[0,1,8],"text":"\n"},{"ln":25,"styles":[0,3,13,0,1,8,0,3,13,0,7,8],"text":"pub mod core;\n"},{"ln":26,"styles":[0,3,13,0,1,8,0,3,13,0,5,8],"text":"pub mod ui;\n"},{"ln":27,"styles":[0,3,13,0,1,8,0,3,13,0,10,8],"text":"pub mod widgets;\n"},{"ln":28,"styles":[0,3,13,0,1,8,0,3,13,0,13,8],"text":"pub mod components;\n"},{"ln":29,"styles":[0,3,13,0,1,8,0,3,13,0,10,8],"text":"pub mod actions;\n"},{"ln":30,"styles":[0,1,8],"text":"\n"}],"n":10,"op":"ins"},{"n":10,"op":"skip"},{"ln":31,"n":30,"op":"copy"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":30,"op":"copy"},{"lines":[{"ln":31,"styles":[0,3,13,0,1,8,0,3,13,0,17,8],"text":"pub use failure::Error;\n"},{"ln":32,"styles":[0,3,13,0,36,8],"text":"use futures::{future, Future, Stream};\n"},{"ln":33,"styles":[0,3,13,0,13,8],"text":"use xrl::spawn;\n"},{"ln":34,"styles":[0,1,8],"text":"\n"},{"ln":35,"styles":[0,3,13,0,22,8],"text":"use core::ActionHandler;\n"},{"ln":36,"styles":[0,3,13,0,24,8],"text":"use actions::EditorAction;\n"},{"ln":37,"styles":[0,3,13,0,37,8],"text":"use ui::{XiTerm, XiTermServiceBuilder};\n"},{"ln":38,"styles":[0,1,8],"text":"\n"},{"ln":39,"styles":[0,3,13,0,1,8,0,2,13,0,1,8,0,3,12,0,26,8],"text":"pub fn run() -> Result<(), Error> {\n"},{"ln":40,"styles":[0,4,8,0,3,13,0,4,8,0,1,10,0,12,8],"text":"    let xi = clap_app!(\n"}],"n":10,"op":"ins"},{"n":10,"op":"skip"},{"ln":41,"n":20,"op":"copy"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"def_style","params":{"fg_color":4284927180,"id":14}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":40,"op":"copy"},{"lines":[{"ln":41,"styles":[0,11,8,0,2,10,0,1,8],"text":"        xi =>\n"},{"ln":42,"styles":[0,16,8,0,1,10,0,13,11,0,1,10,0,2,8],"text":"        (about: \"The Xi Editor\")\n"},{"ln":43,"styles":[0,9,8,0,1,10,0,10,8,0,1,10,0,2,8,0,2,10,0,5,8,0,1,10,0,12,8,0,1,10,0,37,11,0,1,10,0,2,8],"text":"        (@arg core: -c --core +takes_value \"Specify binary to use for the backend\")\n"},{"ln":44,"styles":[0,9,8,0,1,10,0,13,8,0,1,10,0,2,8,0,2,10,0,8,8,0,1,10,0,12,8,0,1,10,0,17,11,0,1,10,0,2,8],"text":"        (@arg logfile: -l --logfile +takes_value \"Log file location\")\n"},{"ln":45,"styles":[0,9,8,0,1,10,0,10,8,0,1,10,0,9,8,0,1,10,0,12,11,0,1,10,0,4,8],"text":"        (@arg file: +required \"File to edit\"));\n"},{"ln":46,"styles":[0,1,8],"text":"\n"},{"ln":47,"styles":[0,4,8,0,3,13,0,9,8,0,1,10,0,4,8,0,11,14,0,4,8],"text":"    let matches = xi.get_matches();\n"},{"ln":48,"styles":[0,4,8,0,2,13,0,1,8,0,3,13,0,15,8,0,1,10,0,9,8,0,8,14,0,1,8,0,1,10,0,7,11,0,1,10,0,4,8],"text":"    if let Some(logfile) = matches.value_of(\"logfile\") {\n"},{"ln":49,"styles":[0,39,8],"text":"        core::configure_logs(logfile);\n"},{"ln":50,"styles":[0,6,8],"text":"    }\n"}],"n":10,"op":"ins"},{"n":10,"op":"skip"},{"ln":51,"n":10,"op":"copy"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":50,"op":"copy"},{"lines":[{"ln":51,"styles":[0,32,8],"text":"    core::init_panic_handler();\n"},{"ln":52,"styles":[0,1,8],"text":"\n"},{"ln":53,"styles":[0,28,8,0,4,13,0,1,8,0,2,10,0,3,8],"text":"    tokio::run(future::lazy(move || {\n"},{"ln":54,"styles":[0,14,8,0,1,10,0,16,11,0,1,10,0,3,8],"text":"        info!(\"starting xi-core\");\n"},{"ln":55,"styles":[0,8,8,0,3,13,0,39,8,0,1,10,0,30,8],"text":"        let (tui_service_builder, core_events_rx) = XiTermServiceBuilder::new();\n"},{"ln":56,"styles":[0,8,8,0,3,13,0,23,8,0,1,10,0,1,8,0,5,14,0,2,8],"text":"        let (client, core_stderr) = spawn(\n"},{"ln":57,"styles":[0,20,8,0,8,14,0,1,8,0,1,10,0,4,11,0,1,10,0,2,8,0,9,14,0,1,8,0,1,10,0,7,11,0,1,10,0,3,8],"text":"            matches.value_of(\"core\").unwrap_or(\"xi-core\"),\n"},{"ln":58,"styles":[0,33,8],"text":"            tui_service_builder,\n"},{"ln":59,"styles":[0,10,8,0,6,14,0,4,8],"text":"        ).unwrap();\n"},{"ln":60,"styles":[0,1,8],"text":"\n"}],"n":10,"op":"ins"},{"n":33,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":60,"op":"copy"},{"lines":[{"ln":61,"styles":[0,14,8,0,1,10,0,31,11,0,1,10,0,3,8],"text":"        info!(\"starting logging xi-core errors\");\n"},{"ln":62,"styles":[0,22,8],"text":"        tokio::spawn(\n"},{"ln":63,"styles":[0,24,8],"text":"            core_stderr\n"},{"ln":64,"styles":[0,17,8,0,8,14,0,2,8,0,3,9,0,4,8],"text":"                .for_each(|msg| {\n"},{"ln":65,"styles":[0,27,8,0,1,10,0,8,11,0,1,10,0,8,8],"text":"                    error!(\"core: {}\", msg);\n"},{"ln":66,"styles":[0,27,8],"text":"                    Ok(())\n"},{"ln":67,"styles":[0,19,8],"text":"                })\n"},{"ln":68,"styles":[0,17,8,0,7,14,0,10,8],"text":"                .map_err(|_| ()),\n"},{"ln":69,"styles":[0,11,8],"text":"        );\n"},{"ln":70,"styles":[0,1,8],"text":"\n"},{"ln":71,"styles":[0,34,8,0,4,13,0,1,8,0,2,10,0,3,8],"text":"        tokio::spawn(future::lazy(move || {\n"},{"ln":72,"styles":[0,12,8,0,3,13,0,10,8,0,1,10,0,31,8],"text":"            let conf_dir = core::get_config_directory();\n"},{"ln":73,"styles":[0,1,8],"text":"\n"},{"ln":74,"styles":[0,12,8,0,3,13,0,14,8,0,1,10,0,8,8,0,5,14,0,4,8],"text":"            let client_clone = client.clone();\n"},{"ln":75,"styles":[0,19,8],"text":"            client\n"},{"ln":76,"styles":[0,17,8,0,14,14,0,10,8,0,8,14,0,10,8],"text":"                .client_started(conf_dir.as_deref(), None)\n"},{"ln":77,"styles":[0,17,8,0,7,14,0,2,8,0,1,9,0,9,8,0,1,10,0,15,11,0,2,14,0,14,11,0,2,14,0,5,11,0,1,10,0,6,8],"text":"                .map_err(|e| error!(\"failed to send \\\"client_started\\\" {:?}\", e))\n"},{"ln":78,"styles":[0,17,8,0,8,14,0,1,8,0,4,13,0,1,8,0,3,10,0,3,8],"text":"                .and_then(move |_| {\n"},{"ln":79,"styles":[0,26,8,0,1,10,0,20,11,0,1,10,0,3,8],"text":"                    info!(\"initializing the TUI\");\n"},{"ln":80,"styles":[0,20,8,0,3,13,0,1,8,0,3,13,0,5,8,0,1,10,0,43,8],"text":"                    let mut tui = XiTerm::new(client_clone, core_events_rx)\n"},{"ln":81,"styles":[0,25,8,0,6,14,0,1,8,0,1,10,0,28,11,0,1,10,0,3,8],"text":"                        .expect(\"failed to initialize the TUI\");\n"},{"ln":82,"styles":[0,31,8,0,14,14,0,24,8,0,1,10,0,20,11,0,1,10,0,1,8,0,4,14,0,6,8],"text":"                    tui.editor.perform_action(EditorAction::SetTheme(\"base16-eighties.dark\".into()));\n"},{"ln":83,"styles":[0,31,8,0,8,14,0,2,8],"text":"                    tui.editor.new_view(\n"},{"ln":84,"styles":[0,32,8,0,8,14,0,1,8,0,1,10,0,4,11,0,1,10,0,2,8,0,3,14,0,23,8],"text":"                        matches.value_of(\"file\").map(ToString::to_string),\n"},{"ln":85,"styles":[0,23,8],"text":"                    );\n"},{"ln":86,"styles":[0,24,8,0,7,14,0,2,8,0,1,9,0,9,8,0,1,10,0,30,11,0,1,10,0,6,8],"text":"                    tui.map_err(|e| error!(\"TUI exited with an error: {:?}\", e))\n"},{"ln":87,"styles":[0,19,8],"text":"                })\n"},{"ln":88,"styles":[0,13,8],"text":"        }));\n"}],"n":28,"op":"ins"},{"n":5,"op":"invalidate"}],"pristine":true},"view_id":"view-id-2"}}
{"method":"update","params":{"update":{"annotations":[{"n":1,"payloads":null,"ranges":[[0,0,0,0]],"type":"selection"}],"ops":[{"ln":1,"n":93,"op":"copy"}],"pristine":true},"view_id":"view-id-2"}}
